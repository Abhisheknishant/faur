A_PLATFORM := gp2x

OPEN2X := $(OPEN2X_ROOT)/$(OPEN2X_GLIBC)

A_BUILD_LIBS := \
    -static \
    -L$(OPEN2X)/lib \
    -L$(OPEN2X)/arm-open2x-linux/lib \
    -lpng12 \
    -lz \
    -lSDL_mixer \
    -lsmpeg \
    -lmikmod \
    -logg \
    -lvorbisidec \
    -lSDL \
    -lpthread \
    -lm \
    -lstdc++ \
    -ldl \

A_BUILD_CFLAGS := \
    -DA_BUILD_LIB_SDL=1 \
    -DA_BUILD_LIB_SDL_TIME=1 \
    -DA_BUILD_RENDER_SOFTWARE=1 \
    -DA_BUILD_SCREEN_WIDTH=320 \
    -DA_BUILD_SCREEN_HEIGHT=240 \
    -DA_BUILD_SCREEN_FULLSCREEN=1 \
    -DA_BUILD_SYSTEM_GP2X=1 \
    -DA_BUILD_SYSTEM_LINUX=1 \
    -O3 \
    -s \
    -mcpu=arm920t \
    -mtune=arm920t \
    -msoft-float \
    -ffast-math \
    -fomit-frame-pointer \
    `$(OPEN2X)/bin/sdl-config --cflags` \
    -isystem$(OPEN2X)/include \
    -isystem$(OPEN2X)/arm-open2x-linux/include \
    -Wno-conversion \

PREFIX := arm-open2x-linux-

export PATH    := $(OPEN2X)/bin:$(PATH)
export CC      := $(PREFIX)gcc
export CXX     := $(PREFIX)g++
export AS      := $(PREFIX)as
export AR      := $(PREFIX)ar
export OBJCOPY := $(PREFIX)objcopy
export READELF := $(PREFIX)readelf
export STRIP   := $(PREFIX)strip
